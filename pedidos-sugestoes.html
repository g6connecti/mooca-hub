<h2>Pedidos / Sugest√µes / Doa√ß√µes</h2>

<div class="sugestao-text">
  Para Pedidos de Inser√ß√£o de Categorias, Estabelecimentos, Sugest√µes ou Doa√ß√µes, envie e-mail para<br>
  <a href="mailto:contato@g6connecti.com.br" class="sugestao-email">contato@g6connecti.com.br</a>
</div>

<p style="margin-top:15px; font-size:0.9em; text-align:center; color:#00ffff;">
 ‚ù§Ô∏è Sua Opini√£o e Apoio s√£o muito importantes para melhorar e manter o Mooca Hub! üì©‚ù§Ô∏è
</p>

<!-- Se√ß√£o de Doa√ß√£o -->
<div style="text-align: center; margin: 30px 0; padding: 20px; background: rgba(0, 212, 255, 0.08); border-radius: 12px; border: 1px solid #00d4ff;">
  <h3 style="color: #00ff00; margin-bottom: 15px;">‚ù§Ô∏è Apoie o Mooca Hub via Pix ‚ù§Ô∏è </h3>
  
  <img src="https://g6connecti.github.io/mooca-hub-bkp/qrcode-mooca-hub300x300.png" 
       alt="QR Code Pix - Mooca Hub" 
       style="width: 220px; height: 220px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,255,0,0.3); margin-bottom: 20px;">

  <p style="font-size: 1.1em; color: #ffffff; margin: 10px 0 10px;">
    Chave Pix:
  </p>

  <div style="font-size: 1.2em; word-break: break-all; background: #2a2a2a; padding: 12px; border-radius: 8px; border: 1px solid #00ffff; margin: 0 auto 20px; max-width: 320px;">
    <span id="chavePix">contato@g6connecti.com.br</span>
  </div>

  <button id="copiarPixBtn" 
          style="padding: 14px 40px; background: #00ffff; color: #121212; border: none; border-radius: 12px; font-size: 1.2em; font-weight: bold; cursor: pointer; box-shadow: 0 0 15px #00ffff; transition: all 0.3s;">
    Copiar Chave Pix
  </button>
</div>

<button class="close-btn" onclick="fecharModulo()">Fechar</button>

<!-- Script com delega√ß√£o (funciona mesmo em conte√∫do carregado dinamicamente) -->
<script>
// Espera o DOM carregar completamente no m√≥dulo
document.addEventListener('DOMContentLoaded', function() {
  const btn = document.getElementById('copiarPixBtn');
  if (!btn) {
    console.error('Bot√£o copiarPixBtn n√£o encontrado no m√≥dulo');
    return;
  }

  btn.addEventListener('click', function(e) {
    e.preventDefault();
    e.stopPropagation();

    const chave = document.getElementById('chavePix').innerText.trim();

    // Tenta copiar
    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(chave)
        .then(() => {
          btn.innerText = 'Copiado! ‚úÖ';
          btn.style.background = '#00cc00';
          btn.style.boxShadow = '0 0 20px #00ff00';

          setTimeout(() => {
            btn.innerText = 'Copiar Chave Pix';
            btn.style.background = '#00ffff';
            btn.style.boxShadow = '0 0 15px #00ffff';
          }, 3000);
        })
        .catch(err => {
          console.error('Clipboard API falhou:', err);
          fallbackCopy();
        });
    } else {
      fallbackCopy();
    }

    function fallbackCopy() {
      const range = document.createRange();
      range.selectNode(document.getElementById('chavePix'));
      window.getSelection().removeAllRanges();
      window.getSelection().addRange(range);

      try {
        document.execCommand('copy');
        btn.innerText = 'Copiado! ‚úÖ';
        btn.style.background = '#00cc00';
        setTimeout(() => {
          btn.innerText = 'Copiar Chave Pix';
          btn.style.background = '#00ffff';
        }, 3000);
      } catch (err) {
        alert('N√£o foi poss√≠vel copiar automaticamente.\nSelecione o texto da chave e copie manualmente.');
      }

      window.getSelection().removeAllRanges();
    }
  });
});
</script>
